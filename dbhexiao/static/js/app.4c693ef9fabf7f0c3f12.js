webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("/5sW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},n=a("VU/8")({name:"app"},i,!1,function(t){a("toGm")},null,null).exports,s=a("mtWM"),p=a.n(s),l=a("/ocq"),u=a("pFYg"),r=a.n(u),c=a("Au9i"),d=a("mw3O"),m=a.n(d),f={name:"login",data:function(){return{username:"",password:"",popupVisible:!1,popupText:""}},created:function(){},methods:{login_func:function(){var t=this;c.Indicator.open({text:"登录中...",spinnerType:"fading-circle"}),t.$http.post(t.baseUrl+"/dbhexiao/admin.php/Admin/Login/login",m.a.stringify({username:t.username,password:t.password})).then(function(e){if(c.Indicator.close(),1===parseInt(e.data.code)&&"object"===r()(e.data.data)){e.data.data;t.$router.push({name:"Index"})}else t.popupText=e.data.message,t.popupVisible=!0,setTimeout(function(){t.popupVisible=!1},2e3)},function(e){t.popupText="网络连接失败！",t.popupVisible=!0,setTimeout(function(){t.popupVisible=!1},2e3),c.Indicator.close()})}},components:{"mt-field":c.Field,"mt-button":c.Button,"mt-popup":c.Popup}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"box"},[a("p",{staticClass:"title"},[t._v("兑宝商家核销系统")]),t._v(" "),a("div",{staticClass:"input-box"},[a("mt-field",{attrs:{label:"用户名",placeholder:"请输入用户名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),a("mt-field",{attrs:{label:"密码",placeholder:"请输入密码",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),a("div",{staticClass:"button-box"},[a("mt-button",{attrs:{type:"primary"},on:{click:t.login_func}},[t._v("登录")])],1)]),t._v(" "),a("mt-popup",{staticClass:"mint-popup-text",attrs:{position:"top",modal:!1},model:{value:t.popupVisible,callback:function(e){t.popupVisible=e},expression:"popupVisible"}},[t._v("\n    "+t._s(t.popupText)+"\n  ")])],1)},staticRenderFns:[]},v=a("VU/8")(f,b,!1,function(t){a("XIUL")},"data-v-f8f10a60",null).exports,x={name:"index",data:function(){return{popupVisible:!1,popupText:""}},methods:{logout_func:function(){var t=this;c.Indicator.open({text:"退出中...",spinnerType:"fading-circle"}),t.$http.post(t.baseUrl+"/dbhexiao/admin.php/Admin/Login/logout").then(function(e){if(c.Indicator.close(),1===parseInt(e.data.code)&&"object"===r()(e.data.data)){e.data.data;t.$router.push({name:"Login"})}else t.popupText=e.data.message,t.popupVisible=!0,setTimeout(function(){t.popupVisible=!1},2e3)},function(e){t.popupText="网络连接失败！",t.popupVisible=!0,setTimeout(function(){t.popupVisible=!1},2e3),c.Indicator.close()})}},components:{"mt-button":c.Button,"mt-popup":c.Popup}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[a("header",[t._v("信游星空")]),t._v(" "),a("div",{staticClass:"btn-box"},[a("mt-button",{staticClass:"btn-radiu",staticStyle:{"border-color":"#67c23a",color:"#67c23a"},attrs:{type:"default",plain:""},on:{click:function(e){t.$router.push({name:"Verification"})}}},[t._v("核销")]),t._v(" "),a("mt-button",{staticClass:"btn-radiu",attrs:{type:"primary",plain:""},on:{click:function(e){t.$router.push({name:"SeeNum"})}}},[t._v("查看数量")]),t._v(" "),a("mt-button",{staticClass:"btn-radiu",attrs:{type:"danger",plain:""},on:{click:t.logout_func}},[t._v("退出")])],1),t._v(" "),a("mt-popup",{staticClass:"mint-popup-text",attrs:{position:"top",modal:!1},model:{value:t.popupVisible,callback:function(e){t.popupVisible=e},expression:"popupVisible"}},[t._v("\n    "+t._s(t.popupText)+"\n  ")])],1)},staticRenderFns:[]},h=a("VU/8")(x,g,!1,function(t){a("eFLf")},"data-v-520cdd13",null).exports,_={name:"see-num",data:function(){return{TableData:[],popupVisible:!1,popupText:"",nowpage:1,allLoaded:!1,bottomPullText:"上拉加载更多",bottomDropText:"释放加载更多"}},created:function(){this.getTableData({loading:function(){c.Indicator.open({text:"请求数据中...",spinnerType:"fading-circle"})},loadingClose:function(){c.Indicator.close()},isAgen:!0})},methods:{getTableData:function(t){var e=this;t.loading&&t.loading(),e.$http.post(e.baseUrl+"/dbhexiao/admin.php/Admin/Product/productnum",m.a.stringify({p:e.nowpage})).then(function(a){if(t.loadingClose&&t.loadingClose(),1===parseInt(a.data.code)&&"object"===r()(a.data.data)){var o=a.data.data,i=[];o.list.forEach(function(a){t.isAgen?i.push(a):e.TableData.push(a)}),t.isAgen&&(e.popupText=a.data.message,e.popupVisible=!0,setTimeout(function(){e.popupVisible=!1},2e3),e.TableData=i),parseInt(o.totalpage)===parseInt(o.nowpage)?(e.bottomPullText="已经没有更多信息了",e.bottomDropText="已经没有更多信息了",e.allLoaded=!0):(e.bottomPullText="上拉加载更多",e.bottomDropText="释放加载更多",e.allLoaded=!1),e.nowpage=parseInt(o.nowpage)+1}else e.popupText=a.data.message,e.popupVisible=!0,setTimeout(function(){e.popupVisible=!1},2e3)},function(a){e.popupText="网络连接失败！",e.popupVisible=!0,setTimeout(function(){e.popupVisible=!1},2e3),t.loadingClose&&t.loadingClose()})},loadTop:function(){var t=this;t.nowpage=1,t.allLoaded=!1,t.getTableData({loadingClose:function(){t.$refs.loadmore.onTopLoaded()},isAgen:!0})},loadBottom:function(){var t=this;t.allLoaded?t.$refs.loadmore.onBottomLoaded():t.getTableData({loadingClose:function(){t.$refs.loadmore.onBottomLoaded()}})}},components:{"mt-loadmore":c.Loadmore,"mt-cell":c.Cell,"mt-button":c.Button,"mt-popup":c.Popup}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"see-num"},[a("header",[a("i",{staticClass:"mintui mintui-back left",on:{click:function(e){t.$router.push({name:"Index"})}}}),t._v("查看数量")]),t._v(" "),a("mt-loadmore",{ref:"loadmore",attrs:{topMethod:t.loadTop,bottomMethod:t.loadBottom,bottomPullText:t.bottomPullText,bottomDropText:t.bottomDropText,bottomAllLoaded:!1}},[a("ul",t._l(t.TableData,function(e,o){return a("li",{staticClass:"cell-box"},[a("div",{staticClass:"angled stripes",class:(o+1)%2==0?"angled-first":"angled-last"}),t._v(" "),a("mt-cell",{attrs:{title:"序号",value:e.id}}),t._v(" "),a("mt-cell",{attrs:{title:"商品名称",value:e.name}}),t._v(" "),a("mt-cell",{attrs:{title:"总数",value:e.totalnum}}),t._v(" "),a("mt-cell",{attrs:{title:"未核销",value:e.hexiaonum}}),t._v(" "),o===t.TableData.length-1?a("div",{staticClass:"angled stripes",class:(o+1)%2==0?"angled-last":"angled-first"}):t._e()],1)}))]),t._v(" "),a("mt-popup",{staticClass:"mint-popup-text",attrs:{position:"top",modal:!1},model:{value:t.popupVisible,callback:function(e){t.popupVisible=e},expression:"popupVisible"}},[t._v("\n    "+t._s(t.popupText)+"\n  ")])],1)},staticRenderFns:[]},y=a("VU/8")(_,T,!1,function(t){a("aHJS")},"data-v-930f8042",null).exports,V={name:"verification",data:function(){return{title:"核销",popupVisible:!1,popupText:"",keystr:"",listData:{id:"",keystr:"",name:"",productnum:"",status:"",status_str:""},isnull:!1,page:0}},methods:{selectData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this;if(""===e.keystr.trim())return e.popupText="兑换码不能为空！",e.popupVisible=!0,void setTimeout(function(){e.popupVisible=!1},2e3);c.Indicator.open({text:"请求数据中...",spinnerType:"fading-circle"}),e.$http.post(e.baseUrl+"/dbhexiao/admin.php/Admin/Hexiao/index",m.a.stringify({keystr:e.keystr})).then(function(a){if(c.Indicator.close(),1===parseInt(a.data.code)&&"object"===r()(a.data.data))if(e.page=1,a.data.data.length>0){e.isnull=!1;var o=a.data.data[0];e.listData.id=o.id,e.listData.keystr=o.keystr,e.listData.name=o.name,e.listData.productnum=o.productnum,e.listData.status=o.status,e.listData.status_str="3"===o.status?"未核销":"已核销"}else e.isnull=!0;t&&(e.popupText=a.data.message,e.popupVisible=!0,setTimeout(function(){e.popupVisible=!1},2e3))},function(t){c.Indicator.close(),e.popupText="网络连接失败！",e.popupVisible=!0,setTimeout(function(){e.popupVisible=!1},2e3)})},verification:function(){var t=this;Object(c.MessageBox)({title:"提示",message:"确定执行此操作?",showCancelButton:!0}).then(function(e){"cancel"!==e&&(c.Indicator.open({text:"核销中...",spinnerType:"fading-circle"}),t.$http.post(t.baseUrl+"/dbhexiao/admin.php/Admin/Hexiao/hexiao",m.a.stringify({id:t.listData.id,keystr:t.listData.keystr})).then(function(e){if(c.Indicator.close(),1===parseInt(e.data.code)&&"object"===r()(e.data.data)){e.data.data;t.selectData(!1)}t.popupText=e.data.message,t.popupVisible=!0,setTimeout(function(){t.popupVisible=!1},2e3)},function(e){c.Indicator.close(),t.popupText="网络连接失败！",t.popupVisible=!0,setTimeout(function(){t.popupVisible=!1},2e3)}))})}},components:{"mt-field":c.Field,"mt-cell":c.Cell,"mt-button":c.Button,"mt-popup":c.Popup}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"verification"},[a("header",[a("i",{staticClass:"mintui mintui-back left",on:{click:function(e){0===t.page?t.$router.push({name:"Index"}):t.page=0}}}),t._v("\n    "+t._s(t.title)+"\n  ")]),t._v(" "),0===t.page?a("div",{staticClass:"select-box"},[a("div",{staticClass:"input-box"},[a("mt-field",{attrs:{label:"兑换码",placeholder:"请输入兑换码"},model:{value:t.keystr,callback:function(e){t.keystr=e},expression:"keystr"}})],1),t._v(" "),a("div",{staticClass:"btn-box"},[a("mt-button",{attrs:{type:"primary"},on:{click:t.selectData}},[t._v("确认")]),t._v(" "),a("mt-button",{attrs:{type:"danger"},on:{click:function(e){t.keystr=""}}},[t._v("清空")])],1)]):t._e(),t._v(" "),1===t.page?a("div",{staticClass:"list-box"},[a("div",{staticClass:"angled stripes angled-first"}),t._v(" "),t.isnull?[a("p",{staticStyle:{height:"100px","line-height":"100px","font-size":"18px","text-align":"center"}},[t._v("暂无相关数据")])]:[a("mt-cell",{attrs:{title:"商品名称",value:t.listData.name}}),t._v(" "),a("mt-cell",{attrs:{title:"数量",value:t.listData.productnum}}),t._v(" "),a("mt-cell",{attrs:{title:"兑换码",value:t.listData.keystr}}),t._v(" "),a("mt-cell",{attrs:{title:"状态",value:t.listData.status_str}})],t._v(" "),a("div",{staticClass:"angled stripes angled-last"}),t._v(" "),t.isnull?a("div",[a("mt-button",{staticStyle:{width:"90%",display:"block",margin:"30px auto"},attrs:{type:"primary"},on:{click:function(e){t.page=0}}},[t._v("返回")])],1):a("div",{staticClass:"btn-box"},["3"===t.listData.status?a("mt-button",{attrs:{type:"primary"},on:{click:t.verification}},[t._v("一键核销")]):a("mt-button",{attrs:{type:"danger"},on:{click:function(t){}}},[t._v("已核销")])],1)],2):t._e(),t._v(" "),a("mt-popup",{staticClass:"mint-popup-text",attrs:{position:"top",modal:!1},model:{value:t.popupVisible,callback:function(e){t.popupVisible=e},expression:"popupVisible"}},[t._v("\n    "+t._s(t.popupText)+"\n  ")])],1)},staticRenderFns:[]},k=a("VU/8")(V,C,!1,function(t){a("ZYls")},"data-v-10f3a4f7",null).exports;o.default.use(l.a);var D=new l.a({mode:"history",scrollBehavior:function(t,e,a){return a||(t.hash?{selector:t.hash}:{x:0,y:0})},routes:[{path:"/dbhexiao",redirect:"/dbhexiao/Login"},{path:"/dbhexiao/Login",name:"Login",component:v},{path:"/dbhexiao/Index",name:"Index",component:h},{path:"/dbhexiao/SeeNum",name:"SeeNum",component:y},{path:"/dbhexiao/Verification",name:"Verification",component:k}]});a("d8/S");p.a.defaults.withCredentials=!0,o.default.prototype.$http=p.a,o.default.prototype.baseUrl="http://xbapp.xinyouxingkong.com/",o.default.config.productionTip=!1,new o.default({el:"#app",router:D,render:function(t){return t(n)}})},XIUL:function(t,e){},ZYls:function(t,e){},aHJS:function(t,e){},"d8/S":function(t,e){},eFLf:function(t,e){},toGm:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.4c693ef9fabf7f0c3f12.js.map